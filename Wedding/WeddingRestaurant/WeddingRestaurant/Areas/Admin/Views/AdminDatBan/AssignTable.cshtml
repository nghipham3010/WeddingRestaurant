@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model WeddingRestaurant.Models.DatBan
@{
    ViewData["Title"] = "Xếp bàn cho khách";
    var availableTables = ViewBag.AvailableTables as List<WeddingRestaurant.Models.BanAn>;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-7">
            <div class="card shadow-sm p-4 bg-light rounded">
                <h2 class="text-primary mb-4 text-center">
                    Xếp bàn cho khách: <span class="fw-bold">@Model.TenKhachHang</span>
                </h2>
                <form asp-action="AssignTable" method="post">
                    <input type="hidden" name="id" value="@Model.Id" />
                    <div class="mb-3">
                        <label class="form-label fw-semibold">Chọn bàn còn trống:</label>
                        <select name="selectedTableId" class="form-select" required>
                            <option value="">-- Chọn bàn --</option>
                            @foreach (var ban in availableTables)
                            {
                                <option value="@ban.Id">@ban.MaBan - @ban.LoaiBan - @ban.ViTri</option>
                            }
                        </select>
                    </div>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                        <button type="submit" class="btn btn-success px-4">Xác nhận xếp bàn</button>
                        <a asp-action="Index" class="btn btn-secondary">Quay lại</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>